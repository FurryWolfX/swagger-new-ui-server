import{m as e,a as t,c as a,b as n,o as l,u as r,r as s,R as c,C as m,d as i,I as o,B as u,e as d,f as p,T as E,g as v}from"./vendor.dae9528d.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return a(self[t].moduleMap[s]);const c=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),m=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){r(new Error(`Failed to import: ${e}`)),l(m)},onload(){a(self[t].moduleMap[s]),l(m)}});document.head.appendChild(m)})),self[t].moduleMap={}}}("/assets/");var y=new class{constructor(){this.swaggerData=null,this.keyword="",this.className="",e(this)}setSwaggerData(e){this.swaggerData=e}setKeyword(e){this.keyword=e}setClassName(e){this.className=e}};function f(e){return"array"===e.type?e.items&&e.items.$ref?`${e.items.$ref.replace("#/definitions/","")}[]`:"array"===e.items.type?`${f(e.items)}[]`:`${e.items.type}[]`:"integer"===e.type?"number":e.$ref?e.$ref.replace("#/definitions/",""):e.type}function g(e){const t=[];return Object.keys(e).forEach((a=>{t.push({method:a.toUpperCase(),summary:e[a].summary,description:e[a].description,tags:e[a].tags,parameters:e[a].parameters,responses:e[a].responses})})),t}const h=[{value:"http://192.168.1.5:9999/admin-api"},{value:"http://192.168.1.5:8083/mms-car-wechat"},{value:"http://192.168.1.5:8888/saas-api"},{value:"http://192.168.1.5:8085/admin-app"},{value:"http://192.168.1.5:8089/workflow"}];var w=l((function(){const e=(JSON.parse(window.localStorage.getItem("userRemoteUrls")||"[]").reverse().forEach((e=>{h.unshift({value:e})})),r(h,(e=>e.value))),[a,l]=s.useState("http://192.168.1.5:9999/admin-api"),[p,E]=s.useState(!1),v=s.useCallback((async()=>{E(!0),await async function(e){var a;const n=await t.get(`/getData?url=${encodeURIComponent(e)}`);200===(null==(a=n.data)?void 0:a.code)?y.setSwaggerData(n.data.data):alert("解析异常")}(a),E(!1)}),[a]);return s.createElement(s.Fragment,null,s.createElement("div",null,"为难以检索的Swagger重新写了个新界面（v3.1.0）By wolfx.cn"),s.createElement(c,null,s.createElement(m,{span:12},s.createElement("span",{style:{verticalAlign:"middle"}},s.createElement(i,{options:e,onChange:e=>l(e),value:a,placeholder:"请输入服务端地址"},s.createElement(o,{style:{width:400},value:a,onInput:e=>l(e.currentTarget.value)}))),s.createElement("span",{style:{verticalAlign:"middle",paddingLeft:20}},s.createElement(u,{type:"primary",loading:p,onClick:()=>v()},"解析")),s.createElement("span",{style:{verticalAlign:"middle",paddingLeft:20}},s.createElement(u,{onClick:()=>function(e){const t=JSON.parse(window.localStorage.getItem("userRemoteUrls")||"[]");t.push(e),window.localStorage.setItem("userRemoteUrls",JSON.stringify(d(t))),n.info("保存成功")}(a)},"保存常用地址")))),s.createElement(c,{style:{paddingBottom:10,marginTop:10}},s.createElement(m,{span:12},s.createElement(o,{placeholder:"请输入接口URL",value:y.keyword,onInput:e=>y.setKeyword(e.currentTarget.value)})),s.createElement(m,{span:12,style:{paddingLeft:20}},s.createElement(o,{placeholder:"请输入类名",value:y.className,onInput:e=>y.setClassName(e.currentTarget.value)}))))}));function k(e){if(e.schema){const t=f(e.schema);return e.schema.$ref?s.createElement("a",{onClick:()=>y.setClassName(t)},t):s.createElement("span",null,t)}return s.createElement("span",null,e.type||"void")}function b(e){var t;return s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",null,s.createElement("th",null,"name"),s.createElement("th",null,"description"),s.createElement("th",null,"required"),s.createElement("th",null,"type")),null==(t=e.meta.parameters)?void 0:t.map(((e,t)=>s.createElement("tr",{key:t},s.createElement("td",null,e.name),s.createElement("td",null,e.description),s.createElement("td",null,e.required),s.createElement("td",null,s.createElement(k,{schema:e.schema,type:e.type})))))))}function N(e){var t;return s.createElement("div",{id:e.url+"__param",style:{height:0,overflow:"hidden"}},null==(t=e.meta.parameters)?void 0:t.map(((e,t)=>s.createElement("div",{key:t},s.createElement("div",null,"/*",e.description,"*/"),s.createElement("div",null,s.createElement("span",null,e.name,":"),s.createElement(k,{schema:e.schema,type:e.type}),s.createElement("span",null,";"))))))}function O(e){return s.createElement("table",null,s.createElement("tbody",null,s.createElement("tr",null,s.createElement("th",null,"code"),s.createElement("th",null,"description"),s.createElement("th",null,"type")),Object.keys(e.meta.responses).map((t=>{var a;const n=e.meta.responses[t];return s.createElement("tr",{key:t},s.createElement("td",null,t),s.createElement("td",null,n.description),s.createElement("td",null,s.createElement(k,{schema:n.schema,type:null==(a=n.schema)?void 0:a.type})))}))))}function $(e){return s.createElement("div",{className:"card-wrap"},s.createElement(p,null,s.createElement("div",{className:"card-title"},s.createElement(E,{color:"green"},e.meta.method),s.createElement("span",null,e.url)),s.createElement("div",null,s.createElement("b",null,"summary"),": ",e.meta.summary),s.createElement("div",null,s.createElement("b",null,"description"),": ",e.meta.description),s.createElement("div",null,s.createElement("b",null,"tags"),": ",e.meta.tags),s.createElement("div",null,s.createElement("span",{style:{fontWeight:"bold"}},"parameters↓")),s.createElement("div",{style:{padding:"4px 0"}},s.createElement(u,{type:"primary",onClick:()=>function(e){const t=document.getElementById(e+"__param");t&&(a(t.innerText),n.info("复制成功"))}(e.url)},"复制参数列表")),s.createElement(b,{meta:e.meta}),s.createElement(N,{url:e.url,meta:e.meta}),s.createElement("div",{style:{fontWeight:"bold"}},"responses↓"),s.createElement(O,{meta:e.meta})))}var C=l((function(){var e;const t=(a=y.keyword,n=(null==(e=y.swaggerData)?void 0:e.paths)||{},a?Object.keys(n).filter((e=>{var t;const l=(null==(t=g(n[e])[0])?void 0:t.tags)||[],r=-1!==e.indexOf(a),s=function(e,t){for(let a of t)if(-1!==a.indexOf(e))return!0;return!1}(a,l);return r||s})).slice(0,50):Object.keys(n).slice(0,50));var a,n;return s.createElement("div",{className:"scroll"},t.map(((e,t)=>{var a;return g(null==(a=y.swaggerData)?void 0:a.paths[e]).map(((a,n)=>s.createElement($,{url:e,meta:a,key:e+"_"+t+"_"+n})))})))}));function R(e){return s.createElement(s.Fragment,null,Object.keys(e.properties).map((t=>{const a=e.properties[t];return a?s.createElement("div",{key:t},a.description&&s.createElement("div",null,"/*",a.description,"*/"),s.createElement("div",null,t,": ",f(a),";")):null})))}var S=l((function(){const e=y.swaggerData?y.className?Object.keys(y.swaggerData.definitions).filter((e=>-1!==e.indexOf(y.className))).slice(0,50):Object.keys(y.swaggerData.definitions).slice(0,50):[];return s.createElement("div",{className:"scroll"},e.map((e=>{var t,l;return s.createElement("div",{className:"card-wrap",key:e},s.createElement(p,null,s.createElement("div",{className:"card-title"},s.createElement("span",{style:{paddingRight:10}},e),s.createElement(u,{type:"primary",onClick:()=>function(e){const t=document.getElementById(e);t&&(a(`export interface ${e} {\n${t.innerText}\n}`),n.info("复制成功"))}(e)},"一键复制TS Interface")),s.createElement("div",{id:e},s.createElement(R,{properties:(null==(l=null==(t=y.swaggerData)?void 0:t.definitions[e])?void 0:l.properties)||{}}))))})))}));var j=l((function(){return s.createElement("div",{className:"App"},s.createElement(w,null),s.createElement(c,null,s.createElement(m,{span:12},s.createElement(C,null)),s.createElement(m,{span:12},s.createElement(S,null))))}));v.render(s.createElement(s.StrictMode,null,s.createElement(j,null)),document.getElementById("root"));
