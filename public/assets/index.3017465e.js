import{m as e,a as t,c as a,b as n,o as l,r,R as c,C as s,d as m,I as i,B as o,e as u,T as d,f as p}from"./vendor.aac1243d.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const n=new URL(e,location),l=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,r)=>{const c=new URL(e,n);if(self[t].moduleMap[c])return a(self[t].moduleMap[c]);const s=new Blob([`import * as m from '${c}';`,`${t}.moduleMap['${c}']=m;`],{type:"text/javascript"}),m=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(s),onerror(){r(new Error(`Failed to import: ${e}`)),l(m)},onload(){a(self[t].moduleMap[c]),l(m)}});document.head.appendChild(m)})),self[t].moduleMap={}}}("/assets/");var E=new class{constructor(){this.swaggerData=null,this.keyword="",this.className="",e(this)}setSwaggerData(e){this.swaggerData=e}setKeyword(e){this.keyword=e}setClassName(e){this.className=e}};function v(e){return"array"===e.type?e.items&&e.items.$ref?`${e.items.$ref.replace("#/definitions/","")}[]`:"array"===e.items.type?`${v(e.items)}[]`:`${e.items.type}[]`:"integer"===e.type?"number":e.$ref?e.$ref.replace("#/definitions/",""):e.type}function y(e){const t=[];return Object.keys(e).forEach((a=>{t.push({method:a.toUpperCase(),summary:e[a].summary,description:e[a].description,tags:e[a].tags,parameters:e[a].parameters,responses:e[a].responses})})),t}const f=[{value:"http://192.168.1.5:9999/admin-api"},{value:"http://192.168.1.5:8083/mms-car-wechat"},{value:"http://192.168.1.5:8888/saas-api"},{value:"http://192.168.1.5:8085/admin-app"},{value:"http://192.168.1.5:8089/workflow"}];var g=l((function(){const[e,a]=r.useState("http://192.168.1.5:9999/admin-api"),[n,l]=r.useState(!1),u=r.useCallback((async()=>{l(!0),await async function(e){var a;const n=await t.get(`/getData?url=${encodeURIComponent(e)}`);200===(null==(a=n.data)?void 0:a.code)?E.setSwaggerData(n.data.data):alert("解析异常")}(e),l(!1)}),[e]);return r.createElement(r.Fragment,null,r.createElement("div",null,"为难以检索的Swagger重新写了个新界面（v3.0）By wolfx.cn"),r.createElement(c,null,r.createElement(s,{span:12},r.createElement("span",{style:{verticalAlign:"middle"}},r.createElement(m,{options:f,onChange:e=>a(e),value:e,placeholder:"请输入服务端地址"},r.createElement(i,{style:{width:400},value:e,onInput:e=>a(e.currentTarget.value)}))),r.createElement("span",{style:{verticalAlign:"middle",paddingLeft:20}},r.createElement(o,{loading:n,onClick:()=>u()},"解析")))),r.createElement(c,{style:{paddingBottom:10,marginTop:10}},r.createElement(s,{span:12},r.createElement(i,{placeholder:"请输入接口URL",value:E.keyword,onInput:e=>E.setKeyword(e.currentTarget.value)})),r.createElement(s,{span:12,style:{paddingLeft:20}},r.createElement(i,{placeholder:"请输入类名",value:E.className,onInput:e=>E.setClassName(e.currentTarget.value)}))))}));function h(e){if(e.schema){const t=v(e.schema);return e.schema.$ref?r.createElement("a",{onClick:()=>E.setClassName(t)},t):r.createElement("span",null,t)}return r.createElement("span",null,e.type||"void")}function w(e){var t;return r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"name"),r.createElement("th",null,"description"),r.createElement("th",null,"required"),r.createElement("th",null,"type")),null==(t=e.meta.parameters)?void 0:t.map(((e,t)=>r.createElement("tr",{key:t},r.createElement("td",null,e.name),r.createElement("td",null,e.description),r.createElement("td",null,e.required),r.createElement("td",null,r.createElement(h,{schema:e.schema,type:e.type})))))))}function k(e){var t;return r.createElement("div",{id:e.url+"__param",style:{height:0,overflow:"hidden"}},null==(t=e.meta.parameters)?void 0:t.map(((e,t)=>r.createElement("div",{key:t},r.createElement("div",null,"/*",e.description,"*/"),r.createElement("div",null,r.createElement("span",null,e.name,":"),r.createElement(h,{schema:e.schema,type:e.type}),r.createElement("span",null,";"))))))}function b(e){return r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("th",null,"code"),r.createElement("th",null,"description"),r.createElement("th",null,"type")),Object.keys(e.meta.responses).map((t=>{var a;const n=e.meta.responses[t];return r.createElement("tr",{key:t},r.createElement("td",null,t),r.createElement("td",null,n.description),r.createElement("td",null,r.createElement(h,{schema:n.schema,type:null==(a=n.schema)?void 0:a.type})))}))))}function N(e){return r.createElement("div",{className:"card-wrap"},r.createElement(u,null,r.createElement("div",{className:"card-title"},r.createElement(d,{color:"green"},e.meta.method),r.createElement("span",null,e.url)),r.createElement("div",null,r.createElement("b",null,"summary"),": ",e.meta.summary),r.createElement("div",null,r.createElement("b",null,"description"),": ",e.meta.description),r.createElement("div",null,r.createElement("b",null,"tags"),": ",e.meta.tags),r.createElement("div",null,r.createElement("span",{style:{fontWeight:"bold"}},"parameters↓")),r.createElement("div",{style:{padding:"4px 0"}},r.createElement(o,{type:"primary",onClick:()=>function(e){const t=document.getElementById(e+"__param");t&&(a(t.innerText),n.info("复制成功"))}(e.url)},"复制参数列表")),r.createElement(w,{meta:e.meta}),r.createElement(k,{url:e.url,meta:e.meta}),r.createElement("div",{style:{fontWeight:"bold"}},"responses↓"),r.createElement(b,{meta:e.meta})))}var $=l((function(){var e;const t=(a=E.keyword,n=(null==(e=E.swaggerData)?void 0:e.paths)||{},a?Object.keys(n).filter((e=>{var t;const l=(null==(t=y(n[e])[0])?void 0:t.tags)||[],r=-1!==e.indexOf(a),c=function(e,t){for(let a of t)if(-1!==a.indexOf(e))return!0;return!1}(a,l);return r||c})).slice(0,50):Object.keys(n).slice(0,50));var a,n;return r.createElement("div",{className:"scroll"},t.map(((e,t)=>{var a;return y(null==(a=E.swaggerData)?void 0:a.paths[e]).map(((a,n)=>r.createElement(N,{url:e,meta:a,key:e+"_"+t+"_"+n})))})))}));function C(e){return r.createElement(r.Fragment,null,Object.keys(e.properties).map((t=>{const a=e.properties[t];return a?r.createElement("div",{key:t},a.description&&r.createElement("div",null,"/*",a.description,"*/"),r.createElement("div",null,t,": ",v(a),";")):null})))}var O=l((function(){const e=E.swaggerData?E.className?Object.keys(E.swaggerData.definitions).filter((e=>-1!==e.indexOf(E.className))).slice(0,50):Object.keys(E.swaggerData.definitions).slice(0,50):[];return r.createElement("div",{className:"scroll"},e.map((e=>{var t,l;return r.createElement("div",{className:"card-wrap",key:e},r.createElement(u,null,r.createElement("div",{className:"card-title"},r.createElement("span",{style:{paddingRight:10}},e),r.createElement(o,{type:"primary",onClick:()=>function(e){const t=document.getElementById(e);t&&(a(`export interface ${e} {\n${t.innerText}\n}`),n.info("复制成功"))}(e)},"一键复制TS Interface")),r.createElement("div",{id:e},r.createElement(C,{properties:(null==(l=null==(t=E.swaggerData)?void 0:t.definitions[e])?void 0:l.properties)||{}}))))})))}));var j=l((function(){return r.createElement("div",{className:"App"},r.createElement(g,null),r.createElement(c,null,r.createElement(s,{span:12},r.createElement($,null)),r.createElement(s,{span:12},r.createElement(O,null))))}));p.render(r.createElement(r.StrictMode,null,r.createElement(j,null)),document.getElementById("root"));
